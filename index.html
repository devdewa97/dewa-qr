<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>DewaQR | Otentikasi Identitas Digital & Verifikasi Visual Profesional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Integrasi Font Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #020617;
            --bg-card: #0f172a;
            --accent: #fbbf24;
            --font-main: 'Poppins', sans-serif;
        }
        
        body { 
            font-family: var(--font-main); 
            scroll-behavior: smooth; 
            background-color: var(--bg-deep);
            color: #f1f5f9;
            line-height: 1.6;
        }

        /* Headline benar-benar BOLD */
        h1 { font-weight: 900; letter-spacing: -0.04em; }
        h2, h3, h4, .font-heading { font-weight: 700; letter-spacing: -0.02em; }
        
        .standard-rounded { border-radius: 10px !important; }

        /* Animasi Latar Belakang Gradasi */
        .animated-bg {
            background: linear-gradient(-45deg, #020617, #0f172a, #1e1b4b, #020617);
            background-size: 400% 400%;
            animation: gradient-flow 15s ease infinite;
        }

        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .btn-premium {
            background: linear-gradient(90deg, #fbbf24, #f59e0b, #fbbf24);
            background-size: 200% auto;
            transition: 0.5s;
            animation: shine 3s linear infinite;
        }
        @keyframes shine { to { background-position: 200% center; } }

        #verification-page { display: none; }

        /* Input & Placeholder Regular (Tidak Bold) */
        input, textarea, select { 
            font-size: 16px !important; 
            border-radius: 10px !important; 
            font-weight: 400 !important; 
        }
        input::placeholder, textarea::placeholder {
            font-weight: 400 !important;
            opacity: 0.5;
        }

        .tab-btn.active-tab {
            background: #fbbf24;
            color: #020617;
            font-weight: 800;
            border-color: #fbbf24;
        }

        .custom-scrollbar::-webkit-scrollbar { height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        
        /* Animasi Badge Verifikasi */
        .badge-anim-container {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
        }
        .badge-ring {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border: 2px dashed #22c55e;
            border-radius: 50%;
            animation: spin 10s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .verified-core {
            position: absolute;
            top: 10px; left: 10px; right: 10px; bottom: 10px;
            background: #22c55e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.4);
            animation: pulse-badge 2s infinite;
        }
        @keyframes pulse-badge {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(34, 197, 94, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
    </style>
</head>
<body class="overflow-x-hidden">

    <!-- NAVIGASI UTAMA -->
    <nav id="main-nav" class="fixed top-0 w-full z-50 glass-panel border-b border-white/5">
        <div class="max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer" onclick="window.location.href=window.location.origin+window.location.pathname">
                <div class="w-9 h-9 bg-amber-500 flex items-center justify-center font-black text-slate-950 text-xl standard-rounded shadow-[0_0_15px_rgba(251,191,36,0.6)]">D</div>
                <span class="text-xl md:text-2xl font-extrabold tracking-tighter text-white uppercase">DEWA<span class="text-amber-500">QR</span></span>
            </div>
            <div class="hidden md:flex items-center gap-8 text-[10px] font-bold text-slate-400 uppercase tracking-[0.25em]">
                <a href="#features" class="hover:text-amber-400 transition-all">Keunggulan</a>
                <a href="#generator" class="hover:text-amber-400 transition-all">Generator</a>
            </div>
            <a href="#generator" class="bg-white text-slate-950 px-6 py-2 text-[11px] font-black uppercase tracking-widest hover:bg-amber-500 transition-all shadow-lg standard-rounded">Mulai Sekarang</a>
        </div>
    </nav>

    <div id="main-app">
        <!-- HERO SECTION -->
        <section class="animated-bg pt-32 md:pt-52 pb-24 md:pb-44 px-6 relative text-center">
            <div class="max-w-5xl mx-auto relative z-10">
                <div class="inline-flex items-center gap-3 px-6 py-2 border border-white/10 mb-10 bg-white/5 standard-rounded shadow-2xl">
                    <span class="w-1.5 h-1.5 bg-amber-500 rounded-full animate-ping"></span>
                    <span class="text-[9px] md:text-[10px] font-bold tracking-[0.4em] uppercase text-amber-200 text-nowrap">Protokol Keamanan Digital Resmi</span>
                </div>
                
                <h1 class="text-3xl sm:text-5xl md:text-7xl font-black tracking-tighter mb-10 leading-[1.1] text-white px-4 uppercase">
                    Verifikasi Identitas <br class="hidden md:block"> 
                    <span class="text-amber-500">Digital Profesional</span>
                </h1>
                
                <p class="text-sm md:text-xl text-slate-400 max-w-3xl mx-auto leading-relaxed mb-16 font-light px-6 opacity-90">
                    DewaQR menghadirkan ekosistem modern untuk otentikasi identitas digital secara instan. Hasilkan kredensial aman yang dapat diverifikasi secara global melalui teknologi QR terkini.
                </p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-6">
                    <a href="#generator" class="w-full sm:w-auto btn-premium text-slate-950 font-black px-12 py-5 shadow-2xl text-xs md:text-sm uppercase tracking-widest standard-rounded active:scale-95">
                        Buat Modul Sekarang
                    </a>
                </div>
            </div>
        </section>

        <!-- KEUNGGULAN (UMUM) -->
        <section id="features" class="py-24 px-6 relative z-20">
            <div class="max-w-7xl mx-auto grid md:grid-cols-3 gap-10">
                <div class="glass-panel p-10 md:p-14 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30 text-center">
                    <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-8 standard-rounded mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white uppercase tracking-tight">Privasi Aman</h3>
                    <p class="text-slate-400 text-sm leading-relaxed font-medium">Seluruh data identitas Anda diproses dengan standar keamanan tinggi untuk menjaga kerahasiaan informasi personal.</p>
                </div>
                <div class="glass-panel p-10 md:p-14 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30 text-center">
                    <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-8 standard-rounded mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white uppercase tracking-tight">Verifikasi Instan</h3>
                    <p class="text-slate-400 text-sm leading-relaxed font-medium">Lakukan validasi keaslian tanda tangan dan profil secara real-time hanya dengan satu pindaian kamera ponsel.</p>
                </div>
                <div class="glass-panel p-10 md:p-14 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30 text-center">
                    <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-8 standard-rounded mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-white uppercase tracking-tight">Mudah Digunakan</h3>
                    <p class="text-slate-400 text-sm leading-relaxed font-medium">Antarmuka yang bersih dan modern memberikan kemudahan bagi siapa saja untuk membuat modul identitas digital.</p>
                </div>
            </div>
        </section>

        <!-- PANEL GENERATOR -->
        <section id="generator" class="py-24 px-6 relative bg-slate-950/30">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16 px-4">
                    <h2 class="text-3xl md:text-5xl font-black text-white mb-6 uppercase tracking-tighter text-nowrap text-balance">Pusat Konfigurasi Identitas</h2>
                    <p class="text-slate-400 font-medium max-w-2xl mx-auto opacity-80">Lengkapi formulir di bawah ini untuk menghasilkan sertifikat identitas QR resmi Anda.</p>
                </div>

                <div class="flex overflow-x-auto custom-scrollbar gap-2 mb-12 pb-6 justify-start md:justify-center px-4">
                    <button onclick="switchTab('signature')" id="tab-signature" class="tab-btn active-tab whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400">Signature</button>
                    <button onclick="switchTab('vcard')" id="tab-vcard" class="tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">vCard</button>
                    <button onclick="switchTab('url')" id="tab-url" class="tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Tautan</button>
                    <button onclick="switchTab('maps')" id="tab-maps" class="tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Lokasi</button>
                    <button onclick="switchTab('wa')" id="tab-wa" class="tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">WhatsApp</button>
                    <button onclick="switchTab('file')" id="tab-file" class="tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Berkas</button>
                </div>

                <div class="grid lg:grid-cols-12 gap-10 items-start text-left">
                    <div class="lg:col-span-7 glass-panel p-8 md:p-14 shadow-2xl standard-rounded">
                        <!-- Signature Form -->
                        <div id="form-signature" class="gen-form space-y-10 animate-in fade-in slide-in-from-left-4 duration-500">
                            <h4 class="text-xl md:text-2xl font-bold text-white uppercase tracking-tighter flex items-center gap-3">
                                <span class="w-1.5 h-6 bg-amber-500 standard-rounded shadow-[0_0_15px_#fbbf24]"></span> Konfigurasi Signature
                            </h4>
                            <div class="space-y-8">
                                <div class="space-y-2">
                                    <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Nama Lengkap Subjek *</label>
                                    <input type="text" id="sig-name" placeholder="Masukkan nama (Contoh: Gusti Dewa Anggading)" class="w-full px-6 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                </div>
                                <div class="grid md:grid-cols-2 gap-8">
                                    <div class="space-y-2">
                                        <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Nama Perusahaan *</label>
                                        <input type="text" id="sig-org" placeholder="Masukkan perusahaan" class="w-full px-6 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Jabatan Resmi</label>
                                        <input type="text" id="sig-role" placeholder="Masukkan jabatan" class="w-full px-6 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white/5 p-8 border-2 border-dashed border-white/10 standard-rounded text-center group hover:border-amber-500/50 transition-all text-left">
                                <label class="block text-[10px] font-bold text-amber-500 mb-4 uppercase tracking-widest">Tautan Gambar Tanda Tangan *</label>
                                <input type="url" id="sig-url-input" placeholder="https://hosting.com/tanda-tangan.png" class="w-full px-6 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                <p class="text-[9px] text-slate-500 mt-4 italic">Berikan tautan URL langsung ke gambar tanda tangan yang sudah di-host secara online.</p>
                            </div>
                            <button onclick="generateSignatureQR()" class="w-full btn-premium text-slate-950 font-black py-5 shadow-2xl uppercase tracking-widest text-xs standard-rounded">
                                Generate QR Terotentikasi
                            </button>
                        </div>

                        <!-- Lainnya -->
                        <div id="form-vcard" class="gen-form hidden space-y-6 animate-in fade-in duration-300">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter text-left">vCard Digital</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" id="vc-fn" placeholder="Nama Depan" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500 font-normal uppercase">
                                <input type="text" id="vc-ln" placeholder="Nama Belakang" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500 font-normal uppercase">
                            </div>
                            <input type="tel" id="vc-tel" placeholder="Nomor WhatsApp" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500 font-normal uppercase">
                            <button onclick="generateBasicQR('vcard')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate vCard</button>
                        </div>
                        <div id="form-url" class="gen-form hidden space-y-4 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase">Redirect Tautan</h4>
                            <input type="url" id="url-input" placeholder="https://tautan-tujuan.com" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none font-normal">
                            <button onclick="generateBasicQR('url')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Tautan</button>
                        </div>
                        <div id="form-maps" class="gen-form hidden space-y-4 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase">Lokasi Maps</h4>
                            <input type="url" id="map-url" placeholder="Salin link Google Maps" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none font-normal">
                            <button onclick="generateBasicQR('maps')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Maps</button>
                        </div>
                        <div id="form-wa" class="gen-form hidden space-y-4 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase">WhatsApp Direct</h4>
                            <input type="tel" id="wa-num" placeholder="628..." class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none font-normal">
                            <textarea id="wa-msg" rows="2" placeholder="Tulis pesan otomatis" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none font-normal"></textarea>
                            <button onclick="generateBasicQR('wa')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate WA Link</button>
                        </div>
                        <div id="form-file" class="gen-form hidden space-y-4 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase">Berkas Cloud</h4>
                            <input type="url" id="file-url" placeholder="Link PDF/Gambar di Cloud" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none font-normal">
                            <button onclick="generateBasicQR('file')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Berkas Link</button>
                        </div>
                    </div>

                    <!-- AREA PREVIEW -->
                    <div class="lg:col-span-5 sticky top-24 text-center">
                        <div class="glass-panel p-10 md:p-14 shadow-2xl flex flex-col items-center justify-center min-h-[450px] md:min-h-[550px] standard-rounded border border-white/5">
                            <div id="preview-empty" class="space-y-8 opacity-20 text-center">
                                <div class="w-24 h-24 border-4 border-amber-500 flex items-center justify-center mx-auto standard-rounded shadow-[0_0_20px_rgba(251,191,36,0.3)] text-amber-500">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><rect x="2" y="2" width="20" height="20" rx="0"/><rect x="5" y="5" width="5" height="5"/><rect x="14" y="5" width="5" height="5"/><rect x="5" y="14" width="5" height="5"/></svg>
                                </div>
                                <p class="font-black uppercase tracking-[0.6em] text-[11px] text-white">System Ready</p>
                            </div>

                            <div id="preview-result" class="hidden w-full space-y-12 animate-in zoom-in-95 duration-500">
                                <div class="bg-white p-6 shadow-[0_0_60px_rgba(255,255,255,0.1)] inline-block standard-rounded" id="qrcode-container">
                                    <div id="qrcode" class="hidden"></div>
                                    <canvas id="final-qr-canvas" class="mx-auto max-w-full h-auto standard-rounded"></canvas>
                                </div>
                                <button onclick="downloadFinalQR()" class="w-full bg-white text-slate-950 font-black py-5 shadow-2xl hover:bg-amber-500 transition-all flex items-center justify-center gap-4 active:scale-95 uppercase text-xs tracking-[0.25em] standard-rounded">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                    Ekspor PNG
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer id="footer" class="bg-black pt-24 pb-12 px-6 border-t border-white/5 text-center md:text-left">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-12 text-center md:text-left">
                <div class="space-y-6 max-w-lg">
                    <div class="flex items-center justify-center md:justify-start gap-4">
                        <div class="w-10 h-10 bg-amber-500 flex items-center justify-center font-black text-slate-950 text-2xl standard-rounded shadow-[0_0_15px_#fbbf24]">D</div>
                        <span class="text-2xl font-extrabold tracking-tighter uppercase text-white font-heading">DEWA<span class="text-amber-500">QR</span></span>
                    </div>
                    <p class="text-slate-500 text-sm leading-relaxed font-medium">
                        Solusi identitas digital aman untuk otentikasi visual secara instan. Menghadirkan kredibilitas dan keamanan dalam satu pindaian.
                    </p>
                </div>
                <div class="text-center md:text-right">
                    <p class="text-slate-400 text-sm font-extrabold uppercase tracking-widest opacity-80 font-heading">© 2026 DEWAQR — Copyright by Dewa</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- HALAMAN VERIFIKASI (MODERN & PROFESIONAL) -->
    <div id="verification-page" class="min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 md:p-10">
        <div class="max-w-xl w-full bg-white shadow-[0_40px_120px_rgba(0,0,0,0.12)] standard-rounded overflow-hidden animate-in zoom-in-95 duration-500">
            
            <!-- Badge Animasi Modern -->
            <div class="bg-green-50 border-b border-green-100 p-10 md:p-14 text-center">
                <div class="badge-anim-container">
                    <div class="badge-ring"></div>
                    <div class="verified-core">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="4"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                </div>
                <h1 class="text-2xl md:text-4xl font-extrabold text-green-700 tracking-tight leading-tight uppercase font-heading">Identitas Terverifikasi</h1>
                <p class="text-[11px] font-bold text-green-600/70 uppercase tracking-[0.4em] mt-2">DewaQR Official Protocol</p>
            </div>

            <!-- Konten Utama Kredensial -->
            <div class="p-8 md:p-16 space-y-12 text-slate-900 text-left">
                <!-- Pernyataan Profesional -->
                <div class="bg-slate-50/80 p-8 standard-rounded border border-slate-100">
                    <p class="text-[11.5px] leading-relaxed text-slate-600 font-medium italic text-center text-balance">
                        "Pernyataan Otentikasi Kredensial: Catatan digital ini berfungsi sebagai validasi resmi atas identitas pemilik QR. Metadata diterbitkan melalui protokol otentikasi kriptografi DewaQR."
                    </p>
                </div>

                <div class="space-y-12">
                    <!-- Nama Pemilik -->
                    <div class="flex items-start gap-6">
                        <div class="w-12 h-12 bg-slate-100 flex items-center justify-center rounded-lg text-slate-500 shrink-0 shadow-sm border border-slate-200">
                            <!-- Icon User Circle -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        </div>
                        <div class="flex-1 overflow-hidden">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5">Nama Pemilik QR Code</p>
                            <p id="v-name" class="font-extrabold text-2xl md:text-3xl tracking-tighter text-slate-900 leading-none font-heading text-balance">-</p>
                        </div>
                    </div>

                    <!-- Perusahaan -->
                    <div class="flex items-start gap-6">
                        <div class="w-12 h-12 bg-slate-100 flex items-center justify-center rounded-lg text-slate-500 shrink-0 shadow-sm border border-slate-200">
                            <!-- Icon Building -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M8 10h.01"/><path d="M16 10h.01"/><path d="M8 14h.01"/><path d="M16 14h.01"/></svg>
                        </div>
                        <div class="flex-1 overflow-hidden">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5">Nama Perusahaan</p>
                            <p id="v-org" class="font-bold text-xl md:text-2xl tracking-tight text-slate-800 leading-none font-heading text-balance">-</p>
                        </div>
                    </div>

                    <!-- Jabatan -->
                    <div class="flex items-start gap-6">
                        <div class="w-12 h-12 bg-slate-100 flex items-center justify-center rounded-lg text-slate-500 shrink-0 shadow-sm border border-slate-200">
                            <!-- Icon Shield Check / Award -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/></svg>
                        </div>
                        <div class="flex-1 overflow-hidden">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5">Jabatan</p>
                            <p id="v-role" class="font-bold text-lg md:text-xl text-slate-600 tracking-tight font-heading">-</p>
                        </div>
                    </div>
                </div>

                <!-- Area Tanda Tangan HD -->
                <div class="pt-10 border-t border-slate-100">
                    <div id="sig-placeholder" class="text-center">
                         <a id="v-sig-link" href="#" target="_blank" class="inline-flex items-center gap-2 px-10 py-4 bg-slate-900 text-white font-black text-xs uppercase tracking-widest standard-rounded hover:bg-amber-500 hover:text-slate-950 transition-all shadow-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            Lihat Tanda Tangan
                         </a>
                    </div>
                    <div id="sig-display" class="hidden mt-8 animate-in fade-in zoom-in-95 duration-700 text-center">
                        <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6">Spesimen Digital Tervalidasi</p>
                        <div class="bg-slate-50 border-2 border-slate-100 p-8 flex flex-col items-center justify-center standard-rounded shadow-inner">
                            <img id="v-sig-img" src="" alt="Signature" class="max-w-full h-auto max-h-52 contrast-[1.5] grayscale select-none">
                            <!-- Kode verifikasi unik -->
                            <div class="mt-8 pt-4 border-t border-slate-200 w-full text-center">
                                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-[0.4em] mb-2">Kode Verifikasi Unik</p>
                                <p id="v-code-label" class="font-mono text-sm font-black text-slate-900 tracking-widest uppercase bg-white px-4 py-2 border border-slate-100 standard-rounded inline-block shadow-sm">-</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer Sertifikat Digital -->
                <div class="pt-12 border-t border-slate-100 flex flex-col items-center justify-center gap-4 opacity-50 select-none">
                    <div class="flex items-center gap-2">
                        <span class="w-1.5 h-1.5 bg-green-500 rounded-full"></span>
                        <p class="text-[10px] font-bold uppercase tracking-widest">Enkripsi SHA-256 Terverifikasi</p>
                    </div>
                    <p class="font-mono text-[9px] font-bold tracking-widest uppercase text-slate-400">© 2026 PROKONTROL SECURITY STANDARD</p>
                </div>
            </div>
            
            <div class="bg-slate-900 p-10 text-center">
                <button onclick="buttonBack()" class="w-full text-white font-black text-[11px] uppercase tracking-[0.3em] py-5 standard-rounded border border-white/10 hover:bg-amber-500 hover:text-slate-950 transition-all shadow-xl active:scale-95">
                    Kembali ke Dashboard
                </button>
            </div>
        </div>
    </div>

    <script>
        window.onload = () => { checkURL(); };

        function buttonBack() { window.location.href = window.location.origin + window.location.pathname; }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.className = "tab-btn whitespace-nowrap px-8 py-3 text-[10px] font-black border border-white/10 text-slate-400 uppercase tracking-widest standard-rounded transition-all";
            });
            const activeTabBtn = document.getElementById(`tab-${tab}`);
            if (activeTabBtn) { activeTabBtn.className = "tab-btn active-tab whitespace-nowrap px-8 py-3 text-[10px] font-black uppercase tracking-widest shadow-lg standard-rounded transition-all"; }

            document.querySelectorAll('.gen-form').forEach(f => f.classList.add('hidden'));
            const targetForm = document.getElementById(`form-${tab}`);
            if (targetForm) { targetForm.classList.remove('hidden'); }
        }

        async function generateSignatureQR() {
            const n = document.getElementById('sig-name').value; 
            const o = document.getElementById('sig-org').value; 
            const r = document.getElementById('sig-role').value;
            const sUrl = document.getElementById('sig-url-input').value;

            if (!n || !o || !sUrl) return alertCustom('Mohon lengkapi Nama, Perusahaan, dan Tautan Tanda Tangan!');
            
            const data = { 
                t:'s', n, o, r, 
                c: Math.random().toString(36).substr(2,4).toUpperCase() + Date.now().toString().substr(-2),
                s: sUrl
            };
            
            const jsonStr = JSON.stringify(data);
            const encoded = btoa(unescape(encodeURIComponent(jsonStr)));
            
            const currentURL = window.location.href.split('?')[0];
            renderQR(`${currentURL}?v=${encoded}`);
        }

        function generateBasicQR(type) {
            let val = "";
            if (type === 'url') val = document.getElementById('url-input').value;
            else if (type === 'vcard') {
                const fn = document.getElementById('vc-fn').value;
                const ln = document.getElementById('vc-ln').value;
                val = `BEGIN:VCARD\nVERSION:3.0\nFN:${fn} ${ln}\nTEL:${document.getElementById('vc-tel').value}\nEND:VCARD`;
            }
            else if (type === 'maps') val = document.getElementById('map-url').value;
            else if (type === 'wa') val = `https://wa.me/${document.getElementById('wa-num').value}?text=${encodeURIComponent(document.getElementById('wa-msg').value)}`;
            else if (type === 'file') val = document.getElementById('file-url').value;

            if (!val || val.length < 5) return alertCustom('Data input tidak lengkap!');
            renderQR(val);
        }

        function renderQR(text) {
            const qrTarget = document.getElementById('qrcode');
            qrTarget.innerHTML = "";
            
            try {
                new QRCode(qrTarget, { 
                    text: text, 
                    width: 512, 
                    height: 512, 
                    correctLevel: QRCode.CorrectLevel.L 
                });

                document.getElementById('preview-empty').classList.add('hidden');
                document.getElementById('preview-result').classList.remove('hidden');

                setTimeout(() => {
                    const img = qrTarget.querySelector('img');
                    if (!img) return;
                    const c = document.getElementById('final-qr-canvas'); c.width = 512; c.height = 512;
                    const cx = c.getContext('2d'); cx.fillStyle = "white"; cx.fillRect(0,0,512,512);
                    cx.drawImage(img, 0, 0, 512, 512);
                }, 400);
            } catch (e) {
                console.error("QR Generation failed", e);
                alertCustom("Gagal membuat QR. Pastikan input tidak terlalu panjang.");
            }
        }

        function downloadFinalQR() {
            const link = document.createElement('a');
            link.download = `DEWAQR_AUTH_${Date.now()}.png`;
            link.href = document.getElementById('final-qr-canvas').toDataURL('image/png');
            link.click();
        }

        function checkURL() {
            const p = new URLSearchParams(window.location.search).get('v');
            if (p) {
                try {
                    const d = JSON.parse(decodeURIComponent(escape(atob(p))));
                    if (d.t === 's') {
                        document.getElementById('main-nav').style.display = 'none'; 
                        document.getElementById('main-app').style.display = 'none';
                        document.getElementById('verification-page').style.display = 'flex';
                        document.getElementById('v-name').textContent = d.n;
                        document.getElementById('v-org').textContent = d.o;
                        document.getElementById('v-role').textContent = d.r;
                        
                        const sigLink = document.getElementById('v-sig-link');
                        sigLink.href = d.s; 
                        sigLink.onclick = () => {
                            document.getElementById('sig-placeholder').classList.add('hidden');
                            document.getElementById('sig-display').classList.remove('hidden');
                        };

                        document.getElementById('v-sig-img').src = d.s;
                        document.getElementById('v-code-label').textContent = d.c;
                        document.title = "Identitas Terverifikasi: " + d.n;
                    }
                } catch(e) { console.error("Integrity check failure", e); }
            }
        }

        function alertCustom(m) {
            const a = document.createElement('div');
            a.className = "fixed top-24 left-1/2 -translate-x-1/2 bg-amber-500 text-slate-950 px-8 py-4 z-[100] text-[11px] font-black uppercase tracking-[0.2em] shadow-2xl standard-rounded text-center animate-bounce border-2 border-white/20";
            a.textContent = "⚠ " + m; document.body.appendChild(a);
            setTimeout(() => a.remove(), 3000);
        }
    </script>
</body>
</html>
