<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    
    <!-- SEO & General Meta Tags -->
    <title>DewaQR | Otentikasi Identitas Digital & Verifikasi Visual Profesional</title>
    <meta name="description" content="Platform profesional untuk otentikasi identitas digital dan verifikasi tanda tangan visual secara instan, aman, dan terenkripsi.">
    <meta name="keywords" content="QR Code, Verifikasi Identitas, Digital Signature, Otentikasi, DewaQR">
    <meta name="author" content="Dewa">

    <!-- Meta Tags Sosial Media (Open Graph / Facebook / WhatsApp) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dewa-qr.vercel.app/">
    <meta property="og:title" content="DewaQR | Otentikasi Identitas Digital Profesional">
    <meta property="og:description" content="Verifikasi tanda tangan dan identitas digital secara instan dengan protokol keamanan tingkat tinggi.">
    <meta property="og:image" content="https://lh3.googleusercontent.com/d/1XW_e-your-preview-image-id"> <!-- Ganti dengan URL gambar preview asli Anda jika ada -->

    <!-- Meta Tags Sosial Media (Twitter / X) -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://dewa-qr.vercel.app/">
    <meta property="twitter:title" content="DewaQR | Otentikasi Identitas Digital Profesional">
    <meta property="twitter:description" content="Verifikasi tanda tangan dan identitas digital secara instan dengan protokol keamanan tingkat tinggi.">
    <meta property="twitter:image" content="https://lh3.googleusercontent.com/d/1XW_e-your-preview-image-id">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        :root {
            --bg-deep: #020617;
            --bg-card: #0f172a;
            --accent: #fbbf24;
            --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        body { 
            font-family: var(--font-main); 
            scroll-behavior: smooth; 
            background-color: var(--bg-deep);
            color: #f1f5f9;
            line-height: 1.6;
        }

        /* Headline BOLD */
        h1 { font-weight: 800; letter-spacing: -0.04em; }
        h2, h3, h4, .font-heading { font-weight: 700; letter-spacing: -0.02em; }
        
        .standard-rounded { border-radius: 12px !important; }

        /* Animasi Latar Belakang */
        .animated-bg {
            background: linear-gradient(-45deg, #020617, #0f172a, #1e1b4b, #020617);
            background-size: 400% 400%;
            animation: gradient-flow 15s ease infinite;
        }

        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .btn-premium {
            background: linear-gradient(90deg, #fbbf24, #f59e0b, #fbbf24);
            background-size: 200% auto;
            transition: 0.5s;
            animation: shine 3s linear infinite;
        }
        @keyframes shine { to { background-position: 200% center; } }

        #verification-page { display: none; }

        input, textarea, select { 
            font-size: 16px !important; 
            border-radius: 10px !important; 
            font-weight: 400 !important; 
        }
        input::placeholder, textarea::placeholder {
            font-weight: 400 !important;
            opacity: 0.4;
        }

        .tab-btn.active-tab {
            background: #fbbf24;
            color: #020617;
            font-weight: 800;
            border-color: #fbbf24;
        }

        .custom-scrollbar::-webkit-scrollbar { height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        
        .badge-anim-container {
            position: relative;
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
        }
        .badge-ring {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border: 2px dashed #22c55e;
            border-radius: 50%;
            animation: spin 10s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .verified-core {
            position: absolute;
            top: 8px; left: 8px; right: 8px; bottom: 8px;
            background: #22c55e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
            animation: pulse-badge 2s infinite;
        }
        @keyframes pulse-badge {
            0% { transform: scale(1); }
            70% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .stagger-1 { animation: fadeInSlide 0.5s ease forwards; animation-delay: 0.1s; opacity: 0; }
        .stagger-2 { animation: fadeInSlide 0.5s ease forwards; animation-delay: 0.2s; opacity: 0; }
        .stagger-3 { animation: fadeInSlide 0.5s ease forwards; animation-delay: 0.3s; opacity: 0; }

        @keyframes fadeInSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .mobile-text-fix { overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; }
    </style>
</head>
<body class="overflow-x-hidden text-balance mobile-text-fix">

    <!-- NAVIGASI UTAMA -->
    <nav id="main-nav" class="fixed top-0 w-full z-50 glass-panel border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 h-16 md:h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer shrink-0" onclick="window.location.href=window.location.origin+window.location.pathname">
                <div class="w-8 h-8 md:w-9 md:h-9 bg-amber-500 flex items-center justify-center font-black text-slate-950 text-lg md:text-xl standard-rounded shadow-[0_0_15px_rgba(251,191,36,0.6)]">D</div>
                <span class="text-lg md:text-2xl font-bold tracking-tighter text-white uppercase text-nowrap">DEWA<span class="text-amber-500">QR</span></span>
            </div>
            <div class="hidden lg:flex items-center gap-8 text-[10px] font-bold text-slate-400 uppercase tracking-[0.25em]">
                <a href="#features" class="hover:text-amber-400 transition-all">Keunggulan</a>
                <a href="#generator" class="hover:text-amber-400 transition-all">Generator</a>
            </div>
            <a href="#generator" class="bg-white text-slate-950 px-4 md:px-6 py-2 text-[10px] md:text-[11px] font-bold uppercase tracking-widest hover:bg-amber-500 transition-all shadow-lg standard-rounded text-nowrap">Mulai</a>
        </div>
    </nav>

    <div id="main-app">
        <!-- HERO SECTION -->
        <section class="animated-bg pt-28 md:pt-52 pb-20 md:pb-44 px-4 sm:px-6 relative text-center">
            <div class="max-w-5xl mx-auto relative z-10">
                <div class="inline-flex items-center gap-3 px-4 py-2 border border-white/10 mb-8 bg-white/5 standard-rounded shadow-2xl">
                    <span class="w-1.5 h-1.5 bg-amber-500 rounded-full animate-ping"></span>
                    <span class="text-[8px] md:text-[10px] font-bold tracking-[0.4em] uppercase text-amber-200">Protokol Keamanan Digital Resmi</span>
                </div>
                
                <h1 class="text-3xl sm:text-5xl md:text-7xl font-extrabold tracking-tighter mb-8 leading-[1.1] text-white uppercase text-balance">
                    Verifikasi Identitas <br class="hidden md:block"> 
                    <span class="text-amber-500">Digital Profesional</span>
                </h1>
                
                <p class="text-sm md:text-xl text-slate-400 max-w-3xl mx-auto leading-relaxed mb-12 font-light opacity-90 text-center text-balance">
                    DewaQR menghadirkan ekosistem modern untuk otentikasi identitas digital secara instan. Hasilkan kredensial aman yang dapat diverifikasi secara global melalui teknologi QR terkini.
                </p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 md:gap-6">
                    <a href="#generator" class="w-full sm:w-auto btn-premium text-slate-950 font-black px-10 py-4 md:py-5 shadow-2xl text-xs md:text-sm uppercase tracking-widest standard-rounded active:scale-95">
                        Buat Modul Sekarang
                    </a>
                </div>
            </div>
        </section>

        <!-- SEKSI KEUNGGULAN (6 POIN) -->
        <section id="features" class="py-20 md:py-32 px-4 sm:px-6 relative z-20">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16 px-4">
                    <h2 class="text-2xl md:text-4xl font-bold uppercase tracking-tight text-white mb-4">Kenapa Memilih DewaQR?</h2>
                    <div class="h-1 w-20 bg-amber-500 mx-auto rounded-full"></div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-10 text-center">
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Privasi Mutlak</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Seluruh data Anda diproses secara lokal untuk menjamin kerahasiaan informasi personal.</p>
                    </div>
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Verifikasi Instan</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Validasi kredensial dalam hitungan detik melalui antarmuka visual yang modern.</p>
                    </div>
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Desain Modern</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Antarmuka intuitif yang memberikan kemudahan navigasi bagi seluruh pengguna.</p>
                    </div>
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Efisiensi Data</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Optimasi data tingkat tinggi untuk QR Code yang tetap ringan namun kaya informasi.</p>
                    </div>
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Aksesibilitas Global</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Dapat diverifikasi melalui perangkat apa saja tanpa memerlukan instalasi aplikasi khusus.</p>
                    </div>
                    <div class="glass-panel p-8 md:p-10 shadow-2xl standard-rounded border border-white/5 transition-all hover:border-accent/30">
                        <div class="w-12 h-12 bg-white/5 flex items-center justify-center text-amber-500 mb-6 standard-rounded mx-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Keamanan SHA-256</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Menggunakan standar enkripsi industri untuk menjaga integritas profil digital Anda.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- PANEL GENERATOR -->
        <section id="generator" class="py-20 md:py-32 px-4 sm:px-6 relative bg-slate-950/30">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-5xl font-black text-white mb-6 uppercase tracking-tighter text-balance font-heading">Pusat Konfigurasi Identitas</h2>
                    <p class="text-slate-400 font-medium max-w-2xl mx-auto opacity-80">Lengkapi formulir di bawah ini untuk menghasilkan sertifikat identitas QR resmi Anda.</p>
                </div>

                <div class="flex overflow-x-auto custom-scrollbar gap-2 mb-10 pb-6 justify-start lg:justify-center">
                    <button onclick="switchTab('signature')" id="tab-signature" class="tab-btn active-tab whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400">Signature</button>
                    <button onclick="switchTab('vcard')" id="tab-vcard" class="tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">vCard</button>
                    <button onclick="switchTab('url')" id="tab-url" class="tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Tautan</button>
                    <button onclick="switchTab('maps')" id="tab-maps" class="tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Lokasi</button>
                    <button onclick="switchTab('wa')" id="tab-wa" class="tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">WhatsApp</button>
                    <button onclick="switchTab('file')" id="tab-file" class="tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest border border-white/10 text-slate-400 hover:text-white transition-all">Berkas</button>
                </div>

                <div class="grid lg:grid-cols-12 gap-8 items-start text-left">
                    <div class="lg:col-span-7 glass-panel p-6 md:p-14 shadow-2xl standard-rounded">
                        <!-- Signature Form (REVISI PLACEHOLDER) -->
                        <div id="form-signature" class="gen-form space-y-10 animate-in fade-in slide-in-from-left-4 duration-500">
                            <h4 class="text-xl md:text-2xl font-bold text-white uppercase tracking-tighter flex items-center gap-3 font-heading">
                                <span class="w-1.5 h-6 bg-amber-500 standard-rounded shadow-[0_0_15px_#fbbf24]"></span> Konfigurasi Signature
                            </h4>
                            <div class="space-y-8">
                                <div class="space-y-2">
                                    <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Nama Lengkap Subjek *</label>
                                    <input type="text" id="sig-name" placeholder="Gusti Dewa Anggading" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                </div>
                                <div class="grid md:grid-cols-2 gap-6 md:gap-8">
                                    <div class="space-y-2">
                                        <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Nama Perusahaan *</label>
                                        <input type="text" id="sig-org" placeholder="Digilabs Kreasi Nusantara" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="block text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Jabatan Resmi</label>
                                        <input type="text" id="sig-role" placeholder="Owner" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white/5 p-6 md:p-8 border-2 border-dashed border-white/10 standard-rounded text-left group hover:border-amber-500/50 transition-all">
                                <label class="block text-[10px] font-bold text-amber-500 mb-4 uppercase tracking-widest text-left">Tautan URL Gambar Tanda Tangan *</label>
                                <input type="url" id="sig-url-input" placeholder="Tempel tautan berbagi Google Drive Anda di sini..." class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 focus:border-amber-500 outline-none text-white transition-all font-normal">
                                
                                <div class="mt-6 p-4 md:p-5 bg-blue-500/5 border border-blue-500/10 rounded-xl text-left">
                                    <p class="text-[10px] font-bold text-blue-400 uppercase tracking-widest mb-3 flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                        Panduan Link Google Drive:
                                    </p>
                                    <ul class="text-[9px] md:text-[10px] text-slate-400 space-y-2 font-medium leading-relaxed list-none">
                                        <li>1. Unggah Gambar TTD ke Google Drive</li>
                                        <li>2. Kemudian bagikan > ubah akses ke <b>"siapa saja memiliki link"</b></li>
                                        <li>3. <b>Salin Tautan Berbagi</b> yang muncul di Google Drive</li>
                                        <li>4. <b>Tempelkan langsung</b> di kolom Tautan Gambar Tanda Tangan di atas</li>
                                        <li>5. Klik <b>Generate QR Terotentikasi</b></li>
                                    </ul>
                                </div>
                            </div>
                            <button onclick="generateSignatureQR()" class="w-full btn-premium text-slate-950 font-black py-4 md:py-5 shadow-2xl uppercase tracking-widest text-xs standard-rounded">
                                Generate QR Terotentikasi
                            </button>
                        </div>

                        <!-- vCard Form -->
                        <div id="form-vcard" class="gen-form hidden space-y-6 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter">vCard Digital</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" id="vc-fn" placeholder="Nama Depan" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500">
                                <input type="text" id="vc-ln" placeholder="Nama Belakang" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500">
                            </div>
                            <input type="tel" id="vc-tel" placeholder="Nomor WA (Contoh: 62812...)" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none focus:border-amber-500 font-normal">
                            <button onclick="generateBasicQR('vcard')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate vCard</button>
                        </div>

                        <!-- URL Form -->
                        <div id="form-url" class="gen-form hidden space-y-6 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter">Tautan Redirect</h4>
                            <input type="url" id="url-input" placeholder="https://domain-anda.com" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none">
                            <button onclick="generateBasicQR('url')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Tautan</button>
                        </div>

                        <!-- Lokasi Form -->
                        <div id="form-maps" class="gen-form hidden space-y-6 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter">Lokasi Maps</h4>
                            <input type="url" id="map-url" placeholder="Salin link bagikan dari Google Maps" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none">
                            <button onclick="generateBasicQR('maps')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Lokasi</button>
                        </div>

                        <!-- WhatsApp Form -->
                        <div id="form-wa" class="gen-form hidden space-y-6 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter">WhatsApp Direct</h4>
                            <input type="tel" id="wa-num" placeholder="628..." class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none mb-2">
                            <textarea id="wa-msg" rows="3" placeholder="Tulis pesan otomatis di sini..." class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none"></textarea>
                            <button onclick="generateBasicQR('wa')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Link WA</button>
                        </div>

                        <!-- Berkas Form -->
                        <div id="form-file" class="gen-form hidden space-y-6 animate-in fade-in duration-300 text-left">
                            <h4 class="text-2xl font-bold text-white uppercase tracking-tighter">Berkas Cloud</h4>
                            <input type="url" id="file-url" placeholder="Link akses langsung ke berkas" class="w-full px-5 py-4 bg-slate-900/80 border border-white/10 text-white outline-none">
                            <button onclick="generateBasicQR('file')" class="w-full btn-premium text-slate-950 font-black py-4 uppercase text-xs tracking-widest">Generate Link Berkas</button>
                        </div>
                    </div>

                    <!-- AREA PREVIEW -->
                    <div class="lg:col-span-5 sticky top-24 text-center">
                        <div class="glass-panel p-8 md:p-14 shadow-2xl flex flex-col items-center justify-center min-h-[400px] md:min-h-[550px] standard-rounded border border-white/5">
                            <div id="preview-empty" class="space-y-8 opacity-20 text-center">
                                <div class="w-20 h-20 md:w-24 md:h-24 border-4 border-amber-500 flex items-center justify-center mx-auto standard-rounded shadow-[0_0_20px_rgba(251,191,36,0.3)] text-amber-500">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><rect x="2" y="2" width="20" height="20" rx="0"/><rect x="5" y="5" width="5" height="5"/><rect x="14" y="5" width="5" height="5"/><rect x="5" y="14" width="5" height="5"/></svg>
                                </div>
                                <p class="font-black uppercase tracking-[0.6em] text-[10px] md:text-[11px] text-white">System Ready</p>
                            </div>

                            <div id="preview-result" class="hidden w-full space-y-12 animate-in zoom-in-95 duration-500 text-center">
                                <div class="bg-white p-5 md:p-6 shadow-[0_0_60px_rgba(255,255,255,0.1)] inline-block standard-rounded mx-auto" id="qrcode-container">
                                    <div id="qrcode" class="hidden"></div>
                                    <canvas id="final-qr-canvas" class="mx-auto max-w-full h-auto standard-rounded"></canvas>
                                </div>
                                <button onclick="downloadFinalQR()" class="w-full bg-white text-slate-950 font-black py-4 md:py-5 shadow-2xl hover:bg-amber-500 transition-all flex items-center justify-center gap-4 active:scale-95 uppercase text-xs tracking-[0.25em] standard-rounded">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                    Ekspor PNG
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer id="footer" class="bg-black pt-24 pb-12 px-6 border-t border-white/5 text-center md:text-left">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-12 text-center md:text-left">
                <div class="space-y-6 max-w-lg">
                    <div class="flex items-center justify-center md:justify-start gap-4">
                        <div class="w-10 h-10 bg-amber-500 flex items-center justify-center font-black text-slate-950 text-2xl standard-rounded shadow-[0_0_15px_#fbbf24]">D</div>
                        <span class="text-2xl font-extrabold tracking-tighter uppercase text-white font-heading">DEWA<span class="text-amber-500">QR</span></span>
                    </div>
                    <p class="text-slate-500 text-sm leading-relaxed font-medium">
                        Solusi identitas digital aman untuk otentikasi visual secara instan. Menghadirkan kredibilitas dan keamanan dalam satu pindaian.
                    </p>
                </div>
                <div class="text-center md:text-right">
                    <p class="text-slate-400 text-sm font-extrabold uppercase tracking-widest opacity-80 font-heading text-nowrap">© 2026 DEWAQR — Copyright by Dewa</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- HALAMAN VERIFIKASI (MODERN DARK BLUE REDESIGN) -->
    <div id="verification-page" class="min-h-screen animated-bg flex flex-col items-center justify-center p-4 md:p-12 overflow-y-auto">
        <!-- Kartu Utama Sertifikat -->
        <div class="max-w-xl w-full glass-panel standard-rounded overflow-hidden animate-in zoom-in-95 duration-500 border border-white/10 shadow-[0_50px_100px_rgba(0,0,0,0.5)]">
            
            <!-- Header Status Premium -->
            <div class="bg-slate-900/50 border-b border-white/5 p-8 md:p-14 text-center">
                <div class="badge-anim-container">
                    <div class="badge-ring"></div>
                    <div class="verified-core shadow-[0_0_30px_rgba(34,197,94,0.6)]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3.5"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                </div>
                <h1 class="text-xl md:text-3xl font-extrabold text-white tracking-tight leading-tight uppercase font-heading text-balance">Otentikasi Berhasil</h1>
                <p class="text-[10px] md:text-[11px] font-bold text-green-400 uppercase tracking-[0.4em] mt-3 drop-shadow-lg">Sertifikasi DewaQR Resmi</p>
            </div>

            <!-- Konten Minimalis -->
            <div class="p-6 md:p-14 space-y-10 text-slate-200">
                
                <!-- Deklarasi Keaslian -->
                <div class="bg-white/5 p-5 md:p-8 standard-rounded border border-white/10 shadow-inner text-center">
                    <p class="text-[10px] md:text-[12px] leading-relaxed text-slate-400 font-medium italic text-balance">
                        "Status Terverifikasi: Protokol keamanan DewaQR mengonfirmasi bahwa data yang terkandung di dalam tautan tanda tangan ini bersifat sah dan terotentikasi."
                    </p>
                </div>

                <!-- Informasi Terstruktur -->
                <div class="space-y-6 md:space-y-8 text-left">
                    <!-- Nama Pemilik -->
                    <div class="flex items-center gap-4 md:gap-6 stagger-1">
                        <div class="w-12 h-12 md:w-14 md:h-14 bg-blue-500/20 flex items-center justify-center rounded-2xl text-blue-400 shrink-0 border border-blue-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-[10px] md:text-[11px] font-normal text-slate-500 uppercase tracking-[0.2em] mb-1">Nama Pemilik QR Code</p>
                            <p id="v-name" class="font-semibold text-lg md:text-2xl tracking-tight text-white leading-tight break-words font-heading">-</p>
                        </div>
                    </div>

                    <!-- Jabatan -->
                    <div class="flex items-center gap-4 md:gap-6 stagger-2">
                        <div class="w-12 h-12 md:w-14 md:h-14 bg-purple-500/20 flex items-center justify-center rounded-2xl text-purple-400 shrink-0 border border-purple-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/></svg>
                        </div>
                        <div class="flex-1 min-w-0 text-balance">
                            <p class="text-[10px] md:text-[11px] font-normal text-slate-500 uppercase tracking-[0.2em] mb-1">Jabatan</p>
                            <p id="v-role" class="font-semibold text-base md:text-xl text-white tracking-tight leading-tight break-words font-heading">-</p>
                        </div>
                    </div>

                    <!-- Nama Perusahaan -->
                    <div class="flex items-center gap-4 md:gap-6 stagger-3">
                        <div class="w-12 h-12 md:w-14 md:h-14 bg-amber-500/20 flex items-center justify-center rounded-2xl text-amber-400 shrink-0 border border-amber-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><path d="M9 3v18"/><path d="M15 3v18"/><path d="M3 9h18"/><path d="M3 15h18"/></svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-[10px] md:text-[11px] font-normal text-slate-500 uppercase tracking-[0.2em] mb-1">Nama Perusahaan</p>
                            <p id="v-org" class="font-semibold text-base md:text-xl text-white tracking-tight leading-tight break-words font-heading">-</p>
                        </div>
                    </div>
                </div>

                <!-- Bagian Spesimen Tanda Tangan -->
                <div class="pt-8 md:pt-10 border-t border-white/10 text-center">
                    <div id="sig-placeholder" class="text-center py-4">
                         <a id="v-sig-link" href="#" target="_blank" class="group inline-flex items-center gap-3 px-10 py-4 md:px-12 md:py-5 bg-white text-slate-950 font-black text-[10px] md:text-xs uppercase tracking-[0.25em] standard-rounded hover:bg-amber-500 transition-all shadow-2xl active:scale-95">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" class="group-hover:scale-110 transition-transform"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            Lihat Tanda Tangan
                         </a>
                    </div>
                    <!-- Display TTD HD -->
                    <div id="sig-display" class="hidden mt-10 animate-in slide-in-from-bottom-4 duration-1000 text-center">
                        <p class="text-[10px] font-bold text-slate-500 uppercase tracking-[0.4em] mb-8 text-center">Spesimen Digital Sah</p>
                        <div class="bg-white p-6 md:p-8 rounded-2xl flex flex-col items-center justify-center shadow-[0_0_40px_rgba(255,255,255,0.1)] min-h-[200px] md:min-h-[250px]">
                            <img id="v-sig-img" src="" alt="Signature" class="max-w-full h-auto max-h-56 contrast-[1.4] grayscale hover:grayscale-0 transition-all duration-700 select-none">
                            
                            <!-- Kode Verifikasi terintegrasi -->
                            <div class="mt-12 pt-6 border-t border-slate-100 w-full text-center">
                                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-[0.5em] mb-3">Kode Verifikasi Sertifikat</p>
                                <div class="font-mono text-[12px] md:text-[14px] font-black text-slate-900 tracking-widest uppercase bg-slate-50 px-4 py-2.5 md:px-6 md:py-3 border border-slate-200 standard-rounded inline-flex items-center gap-3 shadow-inner">
                                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                                    <span id="v-code-label">#-----</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer Keamanan -->
                <div class="pt-8 md:pt-12 border-t border-white/5 flex flex-col items-center justify-center gap-3 opacity-40 select-none text-center">
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" class="text-green-500"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
                        <p class="text-[9px] md:text-[10px] font-bold uppercase tracking-widest text-slate-300 text-nowrap">Enkripsi 256-bit Terverifikasi</p>
                    </div>
                    <p class="font-mono text-[8px] md:text-[9px] font-bold tracking-widest uppercase text-slate-500 text-nowrap">© 2026 PROKONTROL SECURITY STANDARD</p>
                </div>
            </div>
            
            <!-- Navigasi Footer Kartu -->
            <div class="bg-white/5 p-6 md:p-10 text-center border-t border-white/5">
                <button onclick="buttonBack()" class="group w-full text-white font-bold text-[10px] md:text-[11px] uppercase tracking-[0.3em] py-4 md:py-5 standard-rounded border border-white/10 hover:bg-white hover:text-slate-950 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" class="group-hover:-translate-x-1 transition-transform"><path d="m15 18-6-6 6-6"/></svg>
                    Dashboard Utama
                </button>
            </div>
        </div>
    </div>

    <script>
        window.onload = () => { checkURL(); };

        function buttonBack() { window.location.href = window.location.origin + window.location.pathname; }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.className = "tab-btn whitespace-nowrap px-6 md:px-8 py-3 text-[10px] md:text-[11px] font-bold border border-white/10 text-slate-400 uppercase tracking-widest standard-rounded transition-all";
            });
            const activeTabBtn = document.getElementById(`tab-${tab}`);
            if (activeTabBtn) { activeTabBtn.className = "tab-btn active-tab whitespace-nowrap px-8 py-3 text-[10px] md:text-[11px] font-bold uppercase tracking-widest shadow-lg standard-rounded transition-all"; }

            document.querySelectorAll('.gen-form').forEach(f => f.classList.add('hidden'));
            const targetForm = document.getElementById(`form-${tab}`);
            if (targetForm) { targetForm.classList.remove('hidden'); }
        }

        // Fungsi Otomatis untuk Membersihkan link Google Drive
        function cleanDriveUrl(url) {
            if (url.includes('drive.google.com')) {
                const parts = url.split('/');
                let fileId = "";
                const dIndex = parts.indexOf('d');
                if (dIndex !== -1 && parts[dIndex + 1]) {
                    fileId = parts[dIndex + 1].split('?')[0];
                } else {
                    const match = url.match(/id=([^&]+)/);
                    if (match) fileId = match[1];
                }
                if (fileId) return `https://lh3.googleusercontent.com/d/${fileId}`;
            }
            return url;
        }

        async function generateSignatureQR() {
            const n = document.getElementById('sig-name').value; 
            const o = document.getElementById('sig-org').value; 
            const r = document.getElementById('sig-role').value;
            let sUrl = document.getElementById('sig-url-input').value;

            if (!n || !o || !sUrl) return alertCustom('Mohon lengkapi Nama, Perusahaan, dan Tautan Tanda Tangan!');
            
            // Konversi otomatis link drive jika ada
            sUrl = cleanDriveUrl(sUrl);
            
            const data = { 
                t:'s', n, o, r, 
                c: Math.random().toString(36).substr(2,4).toUpperCase() + Date.now().toString().substr(-2),
                s: sUrl
            };
            
            const jsonStr = JSON.stringify(data);
            const encoded = btoa(unescape(encodeURIComponent(jsonStr)));
            
            const currentURL = window.location.href.split('?')[0];
            renderQR(`${currentURL}?v=${encoded}`);
        }

        function generateBasicQR(type) {
            let val = "";
            if (type === 'url') val = document.getElementById('url-input').value;
            else if (type === 'vcard') {
                const fn = document.getElementById('vc-fn').value;
                const ln = document.getElementById('vc-ln').value;
                val = `BEGIN:VCARD\nVERSION:3.0\nFN:${fn} ${ln}\nTEL:${document.getElementById('vc-tel').value}\nEND:VCARD`;
            }
            else if (type === 'maps') val = document.getElementById('map-url').value;
            else if (type === 'wa') val = `https://wa.me/${document.getElementById('wa-num').value}?text=${encodeURIComponent(document.getElementById('wa-msg').value)}`;
            else if (type === 'file') val = document.getElementById('file-url').value;

            if (!val || val.length < 5) return alertCustom('Data input tidak lengkap!');
            renderQR(val);
        }

        function renderQR(text) {
            const qrTarget = document.getElementById('qrcode');
            qrTarget.innerHTML = "";
            
            try {
                new QRCode(qrTarget, { 
                    text: text, 
                    width: 512, 
                    height: 512, 
                    correctLevel: QRCode.CorrectLevel.L 
                });

                document.getElementById('preview-empty').classList.add('hidden');
                document.getElementById('preview-result').classList.remove('hidden');

                setTimeout(() => {
                    const img = qrTarget.querySelector('img');
                    if (!img) return;
                    const c = document.getElementById('final-qr-canvas'); c.width = 512; c.height = 512;
                    const cx = c.getContext('2d'); cx.fillStyle = "white"; cx.fillRect(0,0,512,512);
                    cx.drawImage(img, 0, 0, 512, 512);
                }, 400);
            } catch (e) {
                console.error("QR Generation failed", e);
                alertCustom("Gagal membuat QR. Pastikan input tidak terlalu panjang.");
            }
        }

        function downloadFinalQR() {
            const link = document.createElement('a');
            link.download = `DEWAQR_AUTH_${Date.now()}.png`;
            link.href = document.getElementById('final-qr-canvas').toDataURL('image/png');
            link.click();
        }

        function checkURL() {
            const p = new URLSearchParams(window.location.search).get('v');
            if (p) {
                try {
                    const d = JSON.parse(decodeURIComponent(escape(atob(p))));
                    if (d.t === 's') {
                        document.getElementById('main-nav').style.display = 'none'; 
                        document.getElementById('main-app').style.display = 'none';
                        document.getElementById('verification-page').style.display = 'flex';
                        document.getElementById('v-name').textContent = d.n;
                        document.getElementById('v-org').textContent = d.o;
                        document.getElementById('v-role').textContent = d.r;
                        
                        const sigLink = document.getElementById('v-sig-link');
                        sigLink.href = d.s; 
                        sigLink.onclick = () => {
                            document.getElementById('sig-display').classList.remove('hidden');
                        };

                        document.getElementById('v-sig-img').src = d.s;
                        document.getElementById('v-code-label').textContent = '#' + d.c;
                        document.title = "Otentikasi Berhasil | DewaQR";
                    }
                } catch(e) { console.error("Integrity check failure", e); }
            }
        }

        function alertCustom(m) {
            const a = document.createElement('div');
            a.className = "fixed top-24 left-1/2 -translate-x-1/2 bg-amber-500 text-slate-950 px-8 py-4 z-[100] text-[11px] font-black uppercase tracking-[0.2em] shadow-2xl standard-rounded text-center animate-bounce border-2 border-white/20";
            a.textContent = "⚠ " + m; document.body.appendChild(a);
            setTimeout(() => a.remove(), 3000);
        }
    </script>
</body>
</html>
